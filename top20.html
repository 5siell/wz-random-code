<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">function extractPlayerData() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>var playerData = [];</p>
<p class="p1"><span class="Apple-converted-space">    </span>var rows = document.querySelectorAll('table#reportTable tbody tr'); // Selects all the rows in the table body</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>rows.forEach(function(row) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>var cells = row.getElementsByTagName('td');</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (cells.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Check if player is in a clan by looking for an img tag within the td</p>
<p class="p1"><span class="Apple-converted-space">            </span>var clanImage = cells[0].querySelector('img');</p>
<p class="p1"><span class="Apple-converted-space">            </span>var playerName = clanImage ? cells[0].querySelector('a:nth-of-type(2)').textContent.trim() :<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                         </span>cells[0].querySelector('a').textContent.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>var currentRank = cells[1].textContent.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>var previousRank = cells[2].textContent.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>var rankChange = cells[3].textContent.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>var currentRating = cells[4].textContent.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>var previousRating = cells[5].textContent.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>var ratingChange = cells[6].textContent.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>var wins = cells[7].textContent.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>var losses = cells[8].textContent.trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>playerData.push({</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: playerName,</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentRank: currentRank,</p>
<p class="p1"><span class="Apple-converted-space">                </span>previousRank: previousRank,</p>
<p class="p1"><span class="Apple-converted-space">                </span>rankChange: rankChange,</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentRating: currentRating,</p>
<p class="p1"><span class="Apple-converted-space">                </span>previousRating: previousRating,</p>
<p class="p1"><span class="Apple-converted-space">                </span>ratingChange: ratingChange,</p>
<p class="p1"><span class="Apple-converted-space">                </span>wins: wins,</p>
<p class="p1"><span class="Apple-converted-space">                </span>losses: losses</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>return playerData;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// Run the function to get the data</p>
<p class="p1">var data = extractPlayerData();</p>
<p class="p1">console.log(data);</p>
</body>
</html>
